{
    "timezone": "{{ timezone }}",
    "ntp_server": null,

    "lines": [
        {
            "enable" : "{{ enabled }}",
            "display_name": "{{ name }}",
            "username": "{{ sip.username }}",
            "auth_name": "{{ sip.username }}",
            "auth_password": "{{ sip.password }}",
            "missed_call_log": null,
            "auto_answer": null,

            "sip_server": {
                "listen_port": null,
                "primary": {
                    "host": "{{ realm }}",
                    "port": "5060"
                },
                "backup": {
                    "host": null,
                    "port": null
                }
            },

            "expire": "{{ sip.registration_expiration }}",

            "stun_server": {
                "enable": null,
                "host": null,
                "port": null
            },

            "outbound_proxy": {
                "enable": {{ outbound_proxy.enable|default('0') }},
                "primary": {
                    "host": "{{ outbound_proxy.primary.host }}",
                    "port": "{{ outbound_proxy.primary.port }}"
                },
                "backup": {
                    "host": "{{ outbound_proxy.backup.host }}",
                    "port": "{{ outbound_proxy.backup.port }}"
                }
            },

            "subscribe_mwi": null,
            "transport": null,
            "voicemail_number": "{{ voicemail }}",

            "nat_traversal": null,

            "udp_update": {
                "enable": null,
                "update_time": null
            },

            "rport": null,

            "codecs": {
                "pcmu": {{ codecs.pcmu|default('null') }},
                "pcma": {{ codecs.pcma|default('null') }},
                "g723": {{ codecs.g723|default('null') }},
                "g729": {{ codecs.g729|default('null') }},
                "g722": {{ codecs.g722|default('null') }},
                "ilbc": {{ codecs.ilbc|default('null') }},
                "g726": {{ codecs.g726|default('null') }}
            }
        }
    ],

    "contact_list_url": "{{ contact_list_url }}",

    "logo_url": null,

    "phone_settings": {
        "background": null,
        "screensaver_time": null,
        "theme": null
    },

    "phone_books": [
        {
            "url": null,
            "name": null
        }
    ],

    "mem_keys": [
        {
            "line": null,
            "type": null,
            "value": null,
            "dk_type": null,
            "pickup_value": null
        }
    ],

    "line_keys": [
        {
            "type": null,
            "dk_type": null,
            "line": null,
            "value": null,
            "label": null
        }
    ],

    "soft_keys": [
        {
            "dk_type": null,
            "line": null,
            "value": null
        }
    ],

    "up_key": {
        "dk_type": null,
        "line": null,
        "value": null
    },

    "down_key": {
        "dk_type": null,
        "line": null,
        "value": null
    },

    "left_key": {
        "dk_type": null,
        "line": null,
        "value": null
    },

    "right_key": {
        "dk_type": null,
        "line": null,
        "value": null
    },

    "ok_key": {
        "dk_type": null,
        "line": null,
        "value": null
    },

    "cancel_key": {
        "dk_type": null,
        "line": null,
        "value": null
    },
    
    "fwd_key": {
        "dk_type": null,
        "line": null,
        "value": null
    },

    "sdext38s": [
        {
            "line": null,
            "dk_type": null,
            "value": null,
            "type": null,
            "pickup_value": null,
            "label": null
        }
    ],

    "admin_password": null,

    "autoprovision": {
        "server_type": null,
        "path": null
    },

    "country": null,
    "dialnow_delay": null,

    "firmware": {
        "url": null
    },

    "directory": [{% for contact in directory %} { "name": "{{contact.name}}", "internal_number": "{{contact.internal_number}}", "external_number": "{{contact.external_number}}" }, {% endfor %} {}]
}